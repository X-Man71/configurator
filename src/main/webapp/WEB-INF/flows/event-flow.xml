<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
      	http://www.springframework.org/schema/webflow
      	http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd"
      	start-state="eventName">

	<on-start>
		<evaluate expression="new de.hs.furtwangen.bam.jee.configurator.model.Event()"
			result="flowScope.event" />
	</on-start>

	<!-- ID Bezeichnet den Zustand innerhalb des Flows -->
	<!-- View Attribut definiert die View die dem Benutzer angezeigt werden 
		soll. Bsp intro liefert dem Benutzer intro.html zurÃ¼ck -->
	<view-state id="eventName" view="eventName" model="event">
		<transition on="proceed" to="location">
		</transition>
	</view-state>


	<view-state id="location" view="location" model="flowScope.location">
		<on-entry>
			<set name="flowScope.location"
				value="new de.hs.furtwangen.bam.jee.configurator.model.Location()" />
		</on-entry>

		<transition on="back" to="eventName">
		</transition>
		<transition on="proceed" to="catering">
			<evaluate expression="event.addLocation(flowScope.location)" />
		</transition>
	</view-state>


	<view-state id="catering" view="catering" model="flowScope.catering">
		<on-entry>
			<set name="flowScope.catering"
				value="new de.hs.furtwangen.bam.jee.configurator.model.Catering()" />
		</on-entry>
		<transition on="back" to="location" />
		<transition on="proceed" to="security">
			<evaluate expression="event.addCatering(flowScope.catering)" />

		</transition>
	</view-state>


	<view-state id="security" view="security">



	</view-state>
</flow>

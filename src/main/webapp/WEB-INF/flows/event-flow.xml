<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
      	http://www.springframework.org/schema/webflow
      	http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

	<on-start>
		<evaluate expression="new de.hs.furtwangen.bam.jee.configurator.model.Event()" result="flowScope.event" />
	</on-start>

	<!-- ID Bezeichnet den Zustand innerhalb des Flows -->
	<!-- View Attribut definiert die View die dem Benutzer angezeigt werden 
		soll. Bsp intro liefert dem Benutzer intro.html zurÃ¼ck -->
	<view-state id="chooseNameForEvent" view="chooseNameForEvent"
		model="event">

		<transition on="proceed" to="locationName">
		</transition>
	</view-state>


	<view-state id="locationName" view="locationName"
		model="event">
		<on-entry>
			<set name="flowScope.location" value="new de.hs.furtwangen.bam.jee.configurator.model.Location()" />
		</on-entry>
		
		<transition on="confirm" to="bookingConfirmed">
			<evaluate expression="bookingService.persistBooking(booking)" />
		</transition>
		
		<transition on="back" to="chooseNameForEvent" />
		<transition on="proceed" to="" />
	</view-state>
	
	<view-state id="catering" view="catering">
	
	
	</view-state>




</flow>
